<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800;900&display=swap" rel="stylesheet">
    <style>
        /* --- RESET & BASIC --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(145deg, #ffc0e0, #ffe6f0);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* –ß—Ç–æ–±—ã —Å–∫—Ä–æ–ª–ª –Ω–µ –ø–æ—è–≤–ª—è–ª—Å—è –ø—Ä–∏ –ø–æ–ª–µ—Ç–∞—Ö */
            position: relative;
        }

        /* --- –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† (LAYOUT) --- */
        .modal {
            background: linear-gradient(145deg, #ffffff, #fff9fb);
            padding: 40px;
            text-align: center;
            width: 90vw;
            max-width: 800px; /* –°–¥–µ–ª–∞–ª–∞ –ø–æ–∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ */
            min-height: 60vh;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(255, 77, 109, 0.4);
            border: 6px solid #ff4d6d;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: popIn 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            position: relative;
            z-index: 20;
            transition: all 0.5s ease;
        }

        /* –ï—Å–ª–∏ —ç—Ç–æ —ç–∫—Ä–∞–Ω –≥–∞–ª–µ—Ä–µ–∏, —Ä–∞—Å—à–∏—Ä—è–µ–º –º–æ–¥–∞–ª–∫—É */
        .modal.gallery-mode {
            max-width: 1200px;
            height: 90vh;
            justify-content: flex-start;
            padding-top: 60px;
        }

        @keyframes popIn {
            0% { transform: scale(0.7) rotate(-5deg); opacity: 0; }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        h2 {
            color: #ff4d6d;
            font-weight: 900;
            margin-bottom: 20px;
            font-size: clamp(24px, 5vw, 48px); /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            text-shadow: 3px 3px 0 #ffe6ec;
            letter-spacing: 2px;
        }

        h1 {
            font-size: clamp(32px, 6vw, 64px);
            margin-bottom: 40px;
            color: #2d2d2d;
            line-height: 1.2;
            font-weight: 800;
        }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .btn-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 20px 40px;
            font-size: clamp(20px, 4vw, 32px);
            border: none;
            border-radius: 100px;
            cursor: pointer;
            transition: all 0.25s ease;
            font-weight: 900;
            letter-spacing: 2px;
            position: relative;
        }

        /* –ö–Ω–æ–ø–∫–∞ –î–ê */
        .yes {
            background: #ff4d6d;
            color: white;
            border: 4px solid #ff1a4f;
            box-shadow: 0 10px 0 #b3002d, 0 20px 30px rgba(255, 77, 109, 0.4);
            z-index: 10; /* –ß—Ç–æ–±—ã –±—ã–ª–∞ –≤—ã—à–µ */
        }
        .yes:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 0 #b3002d, 0 30px 50px rgba(255, 77, 109, 0.6);
        }
        .yes:active {
            transform: scale(0.95);
            box-shadow: 0 5px 0 #b3002d;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ù–ï–¢ (–ê–±—Å–æ–ª—é—Ç–Ω–∞—è, —Ö–∏—Ç—Ä–∞—è) */
        .no {
            position: absolute; /* –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–ª–µ—Ç–æ–≤ */
            background: #f0f0f0;
            color: #444;
            border: 4px solid #aaa;
            box-shadow: 0 10px 0 #6b6b6b;
            z-index: 100; /* –í—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—Ö—É */
            transition: top 0.3s ease, left 0.3s ease, transform 0.2s ease;
            /* –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ø—Ä–∏–º–µ—Ä–Ω–∞—è, JS –ø–æ–ø—Ä–∞–≤–∏—Ç) */
            top: 70%;
            left: 60%;
        }

        /* --- –≠–ö–†–ê–ù–´ (SCREENS) --- */
        .hidden { display: none !important; }

        /* –ì–∞–ª–µ—Ä–µ—è (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ "–î–ê") */
        .gallery-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 1s ease;
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            width: 100%;
            max-height: 60vh;
            overflow-y: auto;
            padding: 20px;
        }

        /* –ö–ê–†–¢–û–ß–ö–ê –° –§–û–¢–û */
        .photo-card {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            aspect-ratio: 1 / 1; /* –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Ñ–æ—Ç–∫–∏ */
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
            border: 5px solid transparent;
            /* –≠—Ñ—Ñ–µ–∫—Ç —Ä–∞–¥—É–∂–Ω–æ–π —Ä–∞–º–∫–∏ */
            animation: rainbowBorder 3s linear infinite;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-card:hover {
            transform: scale(1.05) rotate(3deg);
            z-index: 10;
        }

        @keyframes rainbowBorder {
            0% { border-color: #ff0000; box-shadow: 0 0 15px #ff0000; }
            14% { border-color: #ff7f00; box-shadow: 0 0 15px #ff7f00; }
            28% { border-color: #ffff00; box-shadow: 0 0 15px #ffff00; }
            42% { border-color: #00ff00; box-shadow: 0 0 15px #00ff00; }
            57% { border-color: #0000ff; box-shadow: 0 0 15px #0000ff; }
            71% { border-color: #4b0082; box-shadow: 0 0 15px #4b0082; }
            85% { border-color: #9400d3; box-shadow: 0 0 15px #9400d3; }
            100% { border-color: #ff0000; box-shadow: 0 0 15px #ff0000; }
        }

        /* –¢–µ–∫—Å—Ç —É—Å–ø–µ—Ö–∞ */
        .success-text {
            font-size: clamp(24px, 4vw, 40px);
            font-weight: 900;
            background: linear-gradient(45deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
            background-size: 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbowText 5s ease infinite;
            margin-bottom: 20px;
        }

        @keyframes rainbowText {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- –õ–ï–¢–ê–Æ–©–ò–ï –°–ï–†–î–ï–ß–ö–ò --- */
        .heart {
            position: absolute;
            font-size: 40px;
            animation: fly 4s linear forwards;
            z-index: 999;
            pointer-events: none;
        }

        @keyframes fly {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
        }

        /* --- –≠–ö–†–ê–ù –®–£–¢–ö–ò --- */
        .joke-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.95);
            z-index: 50;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .joke-text {
            font-size: clamp(40px, 8vw, 80px);
            color: #ff4d6d;
            font-weight: 900;
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both infinite;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-2px, 0, 0); }
            20%, 80% { transform: translate3d(4px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-8px, 0, 0); }
            40%, 60% { transform: translate3d(8px, 0, 0); }
        }

    </style>
</head>
<body>

    <div class="modal" id="modal">
        
        <div id="questionScreen">
            <h2>‚ù§Ô∏è –î–ª—è —Å–∞–º–æ–≥–æ –ª—é–±–∏–º–æ–≥–æ ‚ù§Ô∏è</h2>
            <h1>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h1>
            <div class="btn-container">
                <button class="yes" id="yesBtn">–î–ê, –ö–û–ù–ï–ß–ù–û! üòç</button>
            </div>
        </div>

        <div id="successScreen" class="gallery-container hidden">
            <div class="success-text">–£–†–ê! –Ø –¢–ê–ö –ò –ó–ù–ê–õ–ê! üéâüíñ</div>
            <div style="font-size: 20px; color: #555; margin-bottom: 15px;">–í–º–µ—Å—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞üíñ</div>
            
            <div class="photos-grid">
                <div class="photo-card"><img src="img/img_1.jpg" ></div>
                <div class="photo-card"><img src="img/img_2.jpg" ></div>
                <div class="photo-card"><img src="img/img_3.jpg" ></div>
                <div class="photo-card"><img src="img/img_4.jpg" ></div>
            </div>
            
            <h2 style="margin-top: 30px;">–° 14 –§–µ–≤—Ä–∞–ª—è! üíò</h2>
        </div>

    </div>

    <button class="no" id="noBtn">–ù–ï–¢ üòë</button>

    <div id="jokeOverlay" class="joke-overlay hidden">
        <div class="joke-text">–ê–•–ê–•–ê–•! üòà</div>
        <h2 style="margin-top: 20px;">–£ —Ç–µ–±—è –Ω–µ—Ç –≤—ã–±–æ—Ä–∞!</h2>
    </div>

    <script>
        // –°–µ–Ω—å–æ—Ä –ü–æ–º–∏–¥–æ—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–µ–º IIFE (Immediately Invoked Function Expression),
        // —á—Ç–æ–±—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ window.
        (function() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const modal = document.getElementById('modal');
            const questionScreen = document.getElementById('questionScreen');
            const successScreen = document.getElementById('successScreen');
            const jokeOverlay = document.getElementById('jokeOverlay');

            let noHoverCount = 0; // –°—á–∏—Ç–∞–µ–º –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è

            // === –õ–û–ì–ò–ö–ê –ö–ù–û–ü–ö–ò "–ù–ï–¢" ===
            
            // –§—É–Ω–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
            function moveButton() {
                // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –æ–∫–Ω–∞ (Viewport)
                const maxX = window.innerWidth - noBtn.offsetWidth - 20;
                const maxY = window.innerHeight - noBtn.offsetHeight - 20;

                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                const randomX = Math.random() * maxX;
                const randomY = Math.random() * maxY;

                // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                noBtn.style.left = randomX + 'px';
                noBtn.style.top = randomY + 'px';
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç –¥–ª—è –≤–µ—Å–µ–ª—å—è
                const rotate = (Math.random() * 40) - 20; 
                noBtn.style.transform = `rotate(${rotate}deg) scale(1)`;

                // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã –æ–Ω–∞ "–∑–ª–∏–ª–∞—Å—å"
                if (noHoverCount > 5) {
                    noBtn.style.background = '#ffcccc';
                    noBtn.innerText = "–ù–ï –ü–û–ô–ú–ê–ï–®–¨!";
                }
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –º—ã—à–∏ (–¥–ª—è –ü–ö) - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –î–û –∫–ª–∏–∫–∞
            noBtn.addEventListener('mouseenter', () => {
                noHoverCount++;
                moveButton();
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ (–¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏–ª–∏ –µ—Å–ª–∏ —É—Å–ø–µ–ª –Ω–∞–∂–∞—Ç—å)
            noBtn.addEventListener('click', (e) => {
                e.preventDefault();
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω-—à—É—Ç–∫—É
                jokeOverlay.classList.remove('hidden');
                
                // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä—è—á–µ–º —à—É—Ç–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É
                setTimeout(() => {
                    jokeOverlay.classList.add('hidden');
                    moveButton(); // –°–Ω–æ–≤–∞ —É–±–µ–≥–∞–µ–º
                }, 2000);
            });


            // === –õ–û–ì–ò–ö–ê –ö–ù–û–ü–ö–ò "–î–ê" ===
            
            yesBtn.addEventListener('click', () => {
                // 1. –ü—Ä—è—á–µ–º –∫–Ω–æ–ø–∫—É "–ù–ï–¢" –Ω–∞–≤—Å–µ–≥–¥–∞
                noBtn.style.display = 'none';

                // 2. –ú–µ–Ω—è–µ–º layout –º–æ–¥–∞–ª–∫–∏ (Layout Shift)
                modal.classList.add('gallery-mode'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–∫–Ω–∞
                questionScreen.classList.add('hidden'); // –£–±–∏—Ä–∞–µ–º –≤–æ–ø—Ä–æ—Å
                successScreen.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–∞–ª–µ—Ä–µ—é

                // 3. –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ (Side Effects)
                createConfetti();
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –µ—â–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏–∫–∞
                setInterval(createConfetti, 3000);
            });


            // === –§–£–ù–ö–¶–ò–Ø –ö–û–ù–§–ï–¢–¢–ò (Particle System) ===
            function createConfetti() {
                const emojis = ["‚ù§Ô∏è", "üíñ", "ü¶Ñ", "üåà", "‚ú®", "üî•", "üòª", "üíç"];
                
                // –°–æ–∑–¥–∞–µ–º 50 —á–∞—Å—Ç–∏—Ü
                for (let i = 0; i < 50; i++) {
                    const heart = document.createElement("div");
                    heart.classList.add("heart");
                    heart.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                    
                    // –†–∞–Ω–¥–æ–º–Ω–∞—è —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                    heart.style.left = Math.random() * 100 + "vw";
                    heart.style.top = Math.random() * 100 + "vh";
                    
                    // –í—ã—á–∏—Å–ª—è–µ–º –≤–µ–∫—Ç–æ—Ä –ø–æ–ª–µ—Ç–∞ (Custom Property --x, --y –¥–ª—è CSS)
                    // –ß–∞—Å—Ç–∏—Ü—ã —Ä–∞–∑–ª–µ—Ç–∞—é—Ç—Å—è –≤–æ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã
                    const x = (Math.random() * 200 - 100) + "vw";
                    const y = (Math.random() * 200 - 100) + "vh";
                    
                    heart.style.setProperty('--x', x);
                    heart.style.setProperty('--y', y);
                    
                    // –†–∞–Ω–¥–æ–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                    const size = Math.random() * 2 + 1; // –æ—Ç 1 –¥–æ 3 rem
                    heart.style.fontSize = size + "rem";

                    document.body.appendChild(heart);

                    // Garbage Collection (GC): —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ DOM –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏,
                    // —á—Ç–æ–±—ã –Ω–µ –∑–∞–±–∏–≤–∞—Ç—å –ø–∞–º—è—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞.
                    setTimeout(() => {
                        heart.remove();
                    }, 4000);
                }
            }

        })();
    </script>
</body>
</html>
