<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800;900&display=swap" rel="stylesheet">
    <style>
        /* --- RESET & BASIC --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
            -webkit-tap-highlight-color: transparent; /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω—é—é –ø–æ–¥—Å–≤–µ—Ç–∫—É –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö */
        }

        body {
            min-height: 100vh;
            background: #ffe6f2; /* –ß–∏—Å—Ç—ã–π –Ω–µ–∂–Ω–æ-—Ä–æ–∑–æ–≤—ã–π —Ñ–æ–Ω */
            background-image: radial-gradient(#ffcce0 15%, transparent 16%), radial-gradient(#ffcce0 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px; /* –ü–∞—Ç—Ç–µ—Ä–Ω –≤ –≥–æ—Ä–æ—à–µ–∫ */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* --- –ú–û–î–ê–õ–ö–ê (Clean Design) --- */
        .modal {
            background: #ffffff;
            padding: 40px;
            text-align: center;
            width: 90vw;
            max-width: 800px;
            min-height: 50vh;
            border-radius: 30px;
            /* –°—Ç–∞—Ç–∏—á–Ω–∞—è, –∫—Ä–∞—Å–∏–≤–∞—è —Ç–µ–Ω—å –≤–º–µ—Å—Ç–æ –∞–Ω–∏–º–∞—Ü–∏–∏ */
            box-shadow: 0 20px 50px rgba(255, 77, 109, 0.3);
            border: 8px solid #ff4d6d;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 20;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal.gallery-mode {
            max-width: 1000px;
            height: 90vh;
            justify-content: flex-start;
            padding-top: 40px;
            border-color: #ff4d6d;
        }

        h2 {
            color: #ff4d6d;
            font-weight: 900;
            margin-bottom: 15px;
            font-size: clamp(20px, 4vw, 36px);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        h1 {
            font-size: clamp(28px, 5vw, 56px);
            margin-bottom: 30px;
            color: #333;
            line-height: 1.2;
            font-weight: 800;
        }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .btn-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 18px 36px;
            font-size: clamp(18px, 3vw, 28px);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: 800;
            position: relative;
        }

        /* –ö–Ω–æ–ø–∫–∞ –î–ê (Solid Color) */
        .yes {
            background: #ff4d6d;
            color: white;
            box-shadow: 0 8px 0 #c41e3a; /* –ñ–µ—Å—Ç–∫–∞—è —Ç–µ–Ω—å –¥–ª—è –æ–±—ä–µ–º–∞ */
        }
        .yes:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 0 #c41e3a;
        }
        .yes:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #c41e3a;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ù–ï–¢ */
        .no {
            position: absolute;
            background: #f1f1f1;
            color: #555;
            box-shadow: 0 8px 0 #bbb;
            z-index: 100;
            top: 70%;
            left: 60%;
            transition: top 0.2s ease, left 0.2s ease; /* –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è */
        }

        /* --- –ì–ê–õ–ï–†–ï–Ø (Clean) --- */
        .hidden { display: none !important; }

        .gallery-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 0.8s ease;
        }

        .success-text {
            font-size: clamp(22px, 4vw, 38px);
            font-weight: 900;
            color: #ff4d6d; /* –ü—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–∏–≤—ã–π —Ü–≤–µ—Ç, –±–µ–∑ —Ä–∞–¥—É–≥–∏ */
            margin-bottom: 10px;
        }

        .sub-text {
            font-size: 18px;
            color: #666;
            margin-bottom: 20px;
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            width: 100%;
            max-height: 65vh;
            overflow-y: auto;
            padding: 10px;
            /* –°–∫—Ä–æ–ª–ª–±–∞—Ä –¥–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–º */
            scrollbar-width: thin;
            scrollbar-color: #ff4d6d #ffe6f2;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ñ–æ—Ç–æ */
        .photo-card {
            border-radius: 15px;
            overflow: hidden;
            aspect-ratio: 1 / 1;
            /* –°—Ç–∞—Ç–∏—á–Ω–∞—è —Ä–∞–º–∫–∞ */
            border: 4px solid #ff4d6d; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            background: white;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .photo-card:hover {
            transform: scale(1.03);
        }

        /* --- –ü–ê–†–¢–ò–ö–õ–´ (–°–ï–†–î–ï–ß–ö–ò) --- */
        .heart {
            position: absolute;
            font-size: 30px;
            animation: floatUp 3s linear forwards;
            z-index: 999;
            pointer-events: none;
            opacity: 0;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(0); opacity: 0; }
        }

        /* --- –≠–ö–†–ê–ù –®–£–¢–ö–ò --- */
        .joke-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.95);
            z-index: 50;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .joke-text {
            font-size: clamp(40px, 8vw, 80px);
            color: #ff4d6d;
            font-weight: 900;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

    </style>
</head>
<body>

    <div class="modal" id="modal">
        <div id="questionScreen">
            <h2>‚ù§Ô∏è –î–ª—è –º–æ–µ–π –ª—é–±–∏–º–∫–∏ ‚ù§Ô∏è</h2>
            <h1>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π "–≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π"?</h1>
            <div class="btn-container">
                <button class="yes" id="yesBtn">–î–ê! üòç</button>
            </div>
        </div>

        <div id="successScreen" class="gallery-container hidden">
            <div class="success-text">–£–†–ê! –Ø –¢–ê–ö –ò –ó–ù–ê–õ–ê! üéâ‚ù§Ô∏è</div>
            <div class="sub-text">–°–º–æ—Ç—Ä–∏, –∫–∞–∫–∏–µ –º—ã –º–∏–ª—ã–µ:</div>
            
            <div class="photos-grid">
                <div class="photo-card"><img src="img/img_1.jpg" alt="Love"></div>
                <div class="photo-card"><img src="img/img_2.jpg" alt="Love"></div>
                <div class="photo-card"><img src="img/img_3.jpg" alt="Love"></div>
                <div class="photo-card"><img src="img/img_4.jpg" alt="Love"></div>
            </div>
        </div>
    </div>

    <button class="no" id="noBtn">–ù–ï–¢ üòë</button>

    <div id="jokeOverlay" class="joke-overlay hidden">
        <div class="joke-text">–ê–•–ê–•–ê–•! üòà</div>
        <h2 style="margin-top: 20px; color: #333;">–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!</h2>
    </div>

    <script>
        (function() {
            "use strict";

            // === 1. AUDIO SYSTEM (RELIABLE SOURCES) ===
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º CDN Pixabay. –≠—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ.
            // preload="auto" —ç–º—É–ª–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ.
            const sounds = {
                // –ó–≤—É–∫ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (–¥–ª—è –∫–Ω–æ–ø–∫–∏ –ù–ï–¢)
                run: new Audio('https://cdn.pixabay.com/audio/2022/03/10/audio_c8c8a73467.mp3'),
                // –ó–≤—É–∫ –æ—à–∏–±–∫–∏/—É–¥–∞—Ä–∞ (–µ—Å–ª–∏ –Ω–∞–∂–∞–ª–∏ –ù–ï–¢)
                bonk: new Audio('https://cdn.pixabay.com/audio/2021/08/04/audio_c6ccf3232f.mp3'),
                // –ó–≤—É–∫ –ø–æ–±–µ–¥—ã (–¥–ª—è –∫–Ω–æ–ø–∫–∏ –î–ê)
                win: new Audio('https://cdn.pixabay.com/audio/2021/08/04/audio_12b0c7443c.mp3')
            };

            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞
            for (let key in sounds) {
                sounds[key].load();
                sounds[key].volume = 0.6; // –ì—Ä–æ–º–∫–æ—Å—Ç—å 60%
            }

            const playSound = (key) => {
                const audio = sounds[key];
                if (audio) {
                    audio.currentTime = 0; // –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –≤ –Ω–∞—á–∞–ª–æ
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–ø–ª–µ—è (–±—Ä–∞—É–∑–µ—Ä—ã –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å)
                    const playPromise = audio.play();
                    if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            console.log('Audio playback blocked:', error);
                        });
                    }
                }
            };

            // === 2. ELEMENTS ===
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const modal = document.getElementById('modal');
            const questionScreen = document.getElementById('questionScreen');
            const successScreen = document.getElementById('successScreen');
            const jokeOverlay = document.getElementById('jokeOverlay');

            let noHoverCount = 0;

            // === 3. NO BUTTON LOGIC ===
            function moveButton() {
                playSound('run'); // –ó–≤—É–∫ "–í–∂—É—Ö"

                // –í—ã—á–∏—Å–ª—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã
                const padding = 50;
                const maxX = window.innerWidth - noBtn.offsetWidth - padding;
                const maxY = window.innerHeight - noBtn.offsetHeight - padding;

                const x = Math.random() * maxX;
                const y = Math.random() * maxY;

                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
                
                // –¢–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ –¥–æ–ª–≥–æ –≥–æ–Ω—è—Ç—å—Å—è
                if (noHoverCount++ > 4) {
                    noBtn.innerText = "–ù–µ –ø–æ–π–º–∞–µ—à—å!";
                    noBtn.style.background = "#ffcccc";
                }
            }

            // Desktop (–Ω–∞–≤–µ–¥–µ–Ω–∏–µ)
            noBtn.addEventListener('mouseenter', moveButton);

            // Mobile/Click (–µ—Å–ª–∏ –ø–æ–π–º–∞–ª–∏)
            noBtn.addEventListener('click', (e) => {
                e.preventDefault();
                playSound('bonk'); // –ó–≤—É–∫ –æ—à–∏–±–∫–∏

                jokeOverlay.classList.remove('hidden');
                setTimeout(() => {
                    jokeOverlay.classList.add('hidden');
                    moveButton(); // –°–Ω–æ–≤–∞ —É–±–µ–≥–∞–µ—Ç
                }, 1500);
            });

            // === 4. YES BUTTON LOGIC ===
            yesBtn.addEventListener('click', () => {
                playSound('win'); // –ó–≤—É–∫ –ø–æ–±–µ–¥—ã
                
                // –£–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É –ù–ï–¢
                noBtn.style.display = 'none';

                // –°–º–µ–Ω–∞ —ç–∫—Ä–∞–Ω–æ–≤
                questionScreen.classList.add('hidden');
                successScreen.classList.remove('hidden');
                modal.classList.add('gallery-mode');

                // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
                startConfetti();
            });

            // === 5. CONFETTI ===
            function startConfetti() {
                const emojis = ["‚ù§Ô∏è", "üíñ", "üíò", "üíû"];
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞—á–∫—É –∫–∞–∂–¥—ã–µ 500–º—Å
                setInterval(() => {
                    const heart = document.createElement("div");
                    heart.classList.add("heart");
                    heart.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                    
                    // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                    heart.style.left = Math.random() * 100 + "vw";
                    // –°—Ç–∞—Ä—Ç —Å–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
                    heart.style.top = "100vh";
                    
                    document.body.appendChild(heart);

                    // –û—á–∏—Å—Ç–∫–∞ DOM
                    setTimeout(() => heart.remove(), 3000);
                }, 200);
            }

        })();
    </script>
</body>
</html>